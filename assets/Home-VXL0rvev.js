import{r,b as j,j as s,e as T,f,a as l,g as y,h as u,i as b,k,C as m,L as U,l as L}from"./index-BKCxqzMs.js";import{S,W,a as C,b as v,c as E,d as A,M as D,H as F}from"./MovieList-DBzrh35I.js";import{U as _,a as H,A as R,T as I,b as c,S as o,c as d,M as $,d as h,e as B,f as N,g as P}from"./Upcoming.styled--a7W2pQL.js";const V=({favorites:i,upcomingMovie:a})=>{const[n,t]=r.useState(!1),p=Math.floor(Math.random()*20+0),[e,M]=r.useState(a[p]),x=j();return r.useEffect(()=>{i.findIndex(g=>g.id===(e==null?void 0:e.id))>=0?t(!0):t(!1)},[i,e]),s.jsxs(_,{children:[s.jsx(H,{$imgUrl:e.backdrop_path}),s.jsxs(R,{children:[s.jsx(I,{children:e==null?void 0:e.original_title}),s.jsxs(c,{children:[s.jsx(o,{children:"Release date"}),s.jsx(d,{children:e==null?void 0:e.release_date})]}),s.jsxs(c,{children:[s.jsx(o,{children:"Vote/Votes"}),s.jsx(d,{children:`${e==null?void 0:e.vote_average}/${e==null?void 0:e.vote_count}`})]}),s.jsxs(c,{children:[s.jsx(o,{children:"Popularity"}),s.jsx(d,{children:e==null?void 0:e.popularity})]}),s.jsxs("div",{children:[s.jsx(o,{children:"ABOUT"}),s.jsx($,{children:e==null?void 0:e.overview})]}),n?s.jsx(h,{onClick:()=>{x(T(e))},children:"Remove from my library"}):s.jsx(h,{onClick:()=>{x(f(e))},children:"Add to my library"})]})]})},w=()=>{const i=j(),a=l(y),n=l(u),t=l(b);return r.useEffect(()=>{i(k())},[i]),s.jsx(B,{children:s.jsx(m,{children:s.jsxs(N,{children:[s.jsx(P,{children:"upcoming this month"}),n&&s.jsx(U,{}),a!==null&&s.jsx(V,{upcomingMovie:a,favorites:t})]})})})},K=()=>{const i=l(L);return s.jsx(S,{children:s.jsx(m,{children:s.jsxs(W,{children:[s.jsxs(C,{children:[s.jsx(v,{children:"WEEKLY TRENDS"}),s.jsx(E,{to:"/catalog",children:"See all"})]}),s.jsx(A,{children:i==null?void 0:i.map((a,n)=>{if(n<=2)return s.jsx(D,{el:a},a.id)})})]})})})},G=()=>s.jsxs(s.Fragment,{children:[s.jsx(F,{}),s.jsx(K,{}),s.jsx(w,{})]});export{G as default};
