import{r,b as j,j as s,e as T,f as y,a as l,g as u,h as f,i as b,k,C as m,L as U,l as L}from"./index-v-dK_4Bx.js";import{S,W,a as C,b as E,c as A,d as D,H as F}from"./WeeklyTrends.styles-DtTBM-yF.js";import{U as _,a as v,A as H,T as R,b as c,S as o,c as d,M as I,d as h,e as $,f as B,g as N}from"./Upcoming.styled-B5cf4yKg.js";import{M as P}from"./MovieList-5SWNu4Wr.js";const V=({favorites:i,upcomingMovie:n})=>{const[a,t]=r.useState(!1),p=Math.floor(Math.random()*20+0),[e,M]=r.useState(n[p]),x=j();return r.useEffect(()=>{(i==null?void 0:i.findIndex(g=>g.id===(e==null?void 0:e.id)))>=0?t(!0):t(!1)},[i,e]),s.jsxs(_,{children:[s.jsx(v,{$imgUrl:e.backdrop_path}),s.jsxs(H,{children:[s.jsx(R,{children:e==null?void 0:e.original_title}),s.jsxs(c,{children:[s.jsx(o,{children:"Release date"}),s.jsx(d,{children:e==null?void 0:e.release_date})]}),s.jsxs(c,{children:[s.jsx(o,{children:"Vote/Votes"}),s.jsx(d,{children:`${e==null?void 0:e.vote_average}/${e==null?void 0:e.vote_count}`})]}),s.jsxs(c,{children:[s.jsx(o,{children:"Popularity"}),s.jsx(d,{children:e==null?void 0:e.popularity})]}),s.jsxs("div",{children:[s.jsx(o,{children:"ABOUT"}),s.jsx(I,{children:e==null?void 0:e.overview})]}),a?s.jsx(h,{onClick:()=>{x(T(e))},children:"Remove from my library"}):s.jsx(h,{onClick:()=>{x(y(e))},children:"Add to my library"})]})]})},w=()=>{const i=j(),n=l(u),a=l(f),t=l(b);return r.useEffect(()=>{i(k())},[i]),s.jsx($,{children:s.jsx(m,{children:s.jsxs(B,{children:[s.jsx(N,{children:"upcoming this month"}),a&&s.jsx(U,{}),n!==null&&s.jsx(V,{upcomingMovie:n,favorites:t})]})})})},K=()=>{const i=l(L);return s.jsx(S,{children:s.jsx(m,{children:s.jsxs(W,{children:[s.jsxs(C,{children:[s.jsx(E,{children:"WEEKLY TRENDS"}),s.jsx(A,{to:"/catalog",children:"See all"})]}),s.jsx(D,{children:i==null?void 0:i.map((n,a)=>{if(a<=2)return s.jsx(P,{el:n},n.id)})})]})})})},J=()=>s.jsxs(s.Fragment,{children:[s.jsx(F,{}),s.jsx(K,{}),s.jsx(w,{})]});export{J as default};
